flowchart TB
    subgraph Legend["图例说明"]
        L1["═══ 读写权限"]
        L2["─── 只读权限"]
        L3["- - - 共享数据"]
    end

    subgraph ZeroBot["ZeroBot (Rust)"]
        ZB["Agent"]
    end

    subgraph CodeCoder["CodeCoder (TypeScript)"]
        CC["Agent"]
    end

    SQLite[("SQLite\n~/.codecoder/.../brain.db")]
    Markdown[("Markdown\n./memory/MEMORY.md\n./memory/daily/*.md")]

    ZB ==>|"读写\n(完全控制)"| SQLite
    CC -.->|"只读\n(安全默认)"| SQLite
    CC ==>|"读写\n(完全控制)"| Markdown
    ZB x-.-x|"不访问"| Markdown

    SQLite <-.->|"共享数据库\n跨系统协作"| SQLite

    classDef rust fill:#dea584,stroke:#b7410e,color:#000
    classDef ts fill:#3178c6,stroke:#235a97,color:#fff
    classDef sqlite fill:#ff8f00,stroke:#e65100,color:#000
    classDef md fill:#4caf50,stroke:#2e7d32,color:#fff

    class ZB,ZeroBot rust
    class CC,CodeCoder ts
    class SQLite sqlite
    class Markdown md
